# コントローラ出荷検査要領

## 1.概要

|項目|規定|
:----|:----
|検査対象|全数|
|フォーム|YCAM3D-III製造・出荷/品質記録/PQC工程検査記録(コントローラ)|
|管理単位|ロット毎の下記検査記録|

## 2.製品仕様確認

1. プロセッサ情報を開く
~~~
less /proc/cpuinfo
~~~
2. メモリ情報を開く
~~~
less /proc/meminfo
~~~
3. それぞれの仕様適合性を記録

ピノー製??????仕様

|項目|仕様|
:----|:----
|Processor|Intel(R) Corei7...|
|Memory|Total Memory  ??????kB|


## 3.撮像機能

1. RoVIを起動する
~~~
roslaunch rovi ycam3sxga.launch
~~~

2. 3Dテスター(perf3D)を起動する
~~~
roscd rovi
roslaunch perf3D.launch
~~~

3. 撮像する  
以下のコマンドを打ちます(暫定措置)
~~~
roservice call /rovi/pshift_genpc
~~~
*19年1月よりGUI(rqt_param_manager)から操作します*

4. 記録  
以下が管理項目。

|項目|手順|基準|
:----|:----|:----
|ターンアラウンドタイム|撮像コマンドを発行してから、ビューワ(Rviz)にVoxel化した点群が表示されるまでの時間を、S/Wで計測する|5.0秒以下|
|点群数|Voxel化する前の点群数を画面ログから拾う|100k以上|

## 5.エージング

1. 2の撮像検査状態で行う

2. 開始時温度
以下コマンドにてコア温度を取得(0.001℃単位)
~~~
cat /sys/class/thermal/thermal_zone[0-7]/temp
~~~

3. 開始
以下コマンドにて5秒サイクルにてエージング開始
~~~
rostopic pub -r 0.2 /rovi/X1 std_msgs/Bool True
~~~
フレームタイムアウト(13枚画像が来ない)発生にて停止する。  
さらに以下のコマンドを追加すると点群数が100000以下でも停止する。
~~~
rosservice call /rovi/ycam_ctrl/parse 'thres 100000'
~~~

4. 記録  

|項目|手順|基準|
:----|:----|:----
|サイクル数|動作開始から1.5H後に動作確認|止まらないこと|
|開始温度|手順2で得られたコア温度|   |
|終了温度|動作開始から1.5H後に手順2にて温度を取得|   |
